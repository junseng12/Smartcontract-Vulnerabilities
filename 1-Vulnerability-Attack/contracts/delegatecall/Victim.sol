// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "hardhat/console.sol";

contract Victim {
    address public owner;

    constructor() {
        owner = msg.sender;
    }

    function delegateSet(address _lib, bytes memory _data) public {
        //ğŸ“Œ ì¤‘ìš”: ì´ delegatecallì€ íŠ¹ì • ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ ì•„ë‹˜ -> EVM ë‚´ì¥ opcode DELEGATECALLì„ ì§ì ‘ í˜¸ì¶œí•œ ê±°ì•¼.
        // >> Solidityì—ì„œ ì œê³µí•˜ëŠ” delegatecallì€ ì €ìˆ˜ì¤€ í•¨ìˆ˜(low-level function)ì•¼.
        console.log("Victim's msg.sender :", msg.sender);
        (bool success, ) = _lib.delegatecall(_data);
        
        require(success, "Delegatecall failed");
    }
}